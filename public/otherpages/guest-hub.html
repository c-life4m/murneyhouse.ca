<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="../public/images/assets/icons/favicon.svg?v=1">
    <title>Guest Hub - Murney House</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../src/styles/style.css">
    <!-- Contact Form Styling -->
    <link rel="stylesheet" href="../shared/contact-modal.css">
    <style>
        /* Enhanced dark mode default styling */
        :root[data-theme="dark"] {
            --primary-accent: #e74c3c;
            --secondary-accent: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --error-color: #e74c3c;
            --section-separator: #404040;
            --card-shadow: rgba(0, 0, 0, 0.4);
            --hover-shadow: rgba(0, 0, 0, 0.6);
        }

        :root[data-theme="light"] {
            --primary-accent: #c0392b;
            --secondary-accent: #2980b9;
            --success-color: #229954;
            --warning-color: #d68910;
            --error-color: #c0392b;
            --section-separator: #e0e0e0;
            --card-shadow: rgba(0, 0, 0, 0.1);
            --hover-shadow: rgba(0, 0, 0, 0.2);
        }

        /* Page title styling - centered */
        h1.page-title, h2 {
            text-align: center;
            margin: 2rem 0;
            position: relative;
            padding-bottom: 1rem;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));
            border-radius: 2px;
        }

        /* Enhanced card styling with better separation */
        .card {
            background-color: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 8px 25px var(--card-shadow);
            padding: 2.5rem;
            margin-bottom: 3rem;
            transition: all 0.4s ease;
            border: 1px solid var(--section-separator);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px var(--hover-shadow);
        }

        /* Enhanced search box */
        .search-box {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--border-color);
            border-radius: 30px;
            margin-bottom: 2rem;
            font-size: 1.2rem;
            background-color: var(--input-bg);
            color: var(--text-color);
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px var(--card-shadow);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(var(--accent-color-rgb), 0.8);
        }

        /* Enhanced appliance grid with better proportions */
        .appliance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        /* Enhanced appliance items with thumbnails and improved hover effects */
        .appliance-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            background: var(--card-bg);
            border: 1px solid var(--section-separator);
            border-radius: 12px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px var(--card-shadow);
        }

        .appliance-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary-accent);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            transform-origin: bottom;
        }

        .appliance-item:hover {
            transform: translateX(8px) translateY(-2px);
            border-color: var(--primary-accent);
            box-shadow: 0 8px 20px var(--hover-shadow);
        }

        .appliance-item:hover::before {
            transform: scaleY(1);
        }

        /* Enhanced thumbnail styling */
        .appliance-item img {
            margin-right: 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            flex-shrink: 0;
        }

        .appliance-item:hover img {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .appliance-item a {
            color: var(--text-color);
            text-decoration: none;
            position: relative;
            padding: 0.5rem 0;
            transition: color var(--transition-fast);
            font-weight: 500;
            flex-grow: 1;
        }

        .appliance-item a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));
            transition: width var(--transition-fast);
            box-shadow: 0 0 4px rgba(229, 115, 115, 0.3);
        }

        .appliance-item a:hover {
            color: var(--primary-accent);
        }

        .appliance-item a:hover::after {
            width: 100%;
        }

        /* Enhanced accordion styling */
        .accordion {
            margin-top: 1.5rem;
        }

        .accordion-item {
            border: 1px solid var(--section-separator);
            border-radius: 10px;
            margin-bottom: 1rem;
            overflow: hidden;
            box-shadow: 0 2px 8px var(--card-shadow);
        }

        .accordion-header {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            transition: all 0.3s ease;
            background: var(--card-bg);
        }

        .accordion-header:hover {
            color: var(--primary-accent);
            background: var(--hover-bg, rgba(231, 76, 60, 0.1));
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
            background: var(--input-bg);
        }

        .accordion-content.active {
            max-height: 400px;
            padding: 1.5rem;
        }

        /* Enhanced review form styling */
        .review-form {
            background: var(--card-bg);
            border: 1px solid var(--section-separator);
            border-radius: 15px;
            padding: 2.5rem;
            margin-top: 3rem;
            text-align: center;
            box-shadow: 0 8px 25px var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .review-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--success-color), var(--secondary-accent));
        }

        .review-form h2 {
            margin-bottom: 1.5rem;
        }

        .review-form > p {
            margin-bottom: 2rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* Enhanced form styling */
        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--input-bg);
            color: var(--text-color);
            font-size: 1rem;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        /* Light grey styling for rating dropdown */
        #review-rating {
            background-color: #f5f5f5 !important;
            color: #333 !important;
            border: 2px solid #ddd !important;
        }

        [data-theme="dark"] #review-rating {
            background-color: #f8f8f8 !important;
            color: #333 !important;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-accent);
            box-shadow: 0 0 10px rgba(231, 76, 60, 0.3);
        }

        /* Character counter styling */
        .char-counter {
            text-align: right;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            color: #666;
            transition: color 0.3s ease;
        }

        /* Enhanced message styling */
        .success-message, .error-message {
            display: none;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-weight: 600;
            text-align: center;
            border-left: 4px solid;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .success-message {
            background-color: #d4edda;
            color: #155724;
            border-color: var(--success-color);
        }

        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            border-color: var(--error-color);
        }

        /* Enhanced footer styling */
        footer {
            text-align: center;
            padding: 2rem 0;
        }

        footer .container p {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
        }

        /* Enhanced button styling */
        .cta-button {
            background: linear-gradient(45deg, var(--primary-accent), var(--secondary-accent));
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
            letter-spacing: 0.5px;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }

        .cta-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Date input styling for dd/mm/yyyy format */
        input[type="date"] {
            position: relative;
        }

        /* Animation improvements */
        .card, .review-form {
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive improvements */
        @media (max-width: 768px) {
            .appliance-grid {
                grid-template-columns: 1fr;
            }

            .card {
                padding: 1.5rem;
                margin-bottom: 2rem;
            }

            .review-form {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- Header with navigation - UNCHANGED -->
    <header>
        <div class="logo">
            <a href="../index.html">Murney House</a>
        </div>
        <nav>
            <div class="desktop-nav">
                <ul>
                    <li><a href="../index.html#rooms">Rooms</a></li>
                    <li><a href="../index.html#amenities">Amenities</a></li>
                    <li><a href="../index.html#local-area">Local Area</a></li>
                    <li><a href="?contact=1">Contact</a></li>
                </ul>
            </div>
            <div class="mobile-nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="mobile-nav">
                <ul>
                    <li><a href="../index.html#rooms">Rooms</a></li>
                    <li><a href="../index.html#amenities">Amenities</a></li>
                    <li><a href="../index.html#local-area">Local Area</a></li>
                    <li><a href="?contact=1">Contact</a></li>
                </ul>
            </div>
        </nav>
        <div class="header-controls">
            <button class="theme-toggle" aria-label="Toggle dark mode">
                <svg class="sun-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
                    <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
                    <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2"/>
                    <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2"/>
                    <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2"/>
                </svg>
                <svg class="moon-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main style="margin-top: 100px; padding: 2rem 0;">
        <div class="container">
            <h1 class="page-title">Guest Hub</h1>
            <h4 style="text-align: center;">This is where you will find helpful tips and guidance to enhance your stay</h4>

            <!-- How To Use Section -->
            <div class="card">
                <h2>Gizmo Master List</h2>
                <p>You can search for a gadget in the search field below or select it from the list</p>
                <input type="text" class="search-box" id="appliance-search" placeholder="Search appliances...">

                <div class="appliance-grid" id="appliance-list">
                    <div class="appliance-item">
                        <img src="guides/px/AC RemoteThmb50.webp" alt="AC/Heat Pump Remote Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">AC/Heat Pump Remote</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/CoffeeM Thmb50.webp" alt="Coffee Maker Thumbnail" width="50">
                        <a href="guides/coffeemaker.html">Coffee Maker</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/Fan 2-Thmb50.webp" alt="Ceiling Fan Remote LR Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Ceiling Fan Remote LR</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/Fan 1-Thmb50.webp" alt="Ceiling Fan Remote Brm 2 & 3 Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Ceiling Fan Remote Brm 2 & 3</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/SweepThmb50.webp" alt="Central Vac Sweep Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Central Vac Sweep</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/DoorLockThmb50.webp" alt="Digital Entry Lock Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Digital Entry Lock</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/lock 2-Thmb50.webp" alt="Digital Room Lock Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Digital Room Lock</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/DW 3Thmb50.webp" alt="Dish Washer Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Dish Washer</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/dryer Thmb50.webp" alt="Dryer Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Dryer</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/Stove 2Thmb50.webp" alt="Gas Stove Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Gas Stove</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/extinguisher Thmb50.webp" alt="Fire Extinguisher Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Fire Extinguisher</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/ThStat Thmb50.webp" alt="Floor Heat Thermostat Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Floor Heat Thermostat</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/FridgeThm50.webp" alt="Fridge Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Fridge</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/Kenmore Thmb50.webp" alt="In Sink Food Disposal Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">In Sink Food Disposal</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/faucet Thmb50.webp" alt="Kitchen Faucet Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Kitchen Faucet</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/Kettle Thmb50.webp" alt="Kettle With Steeper Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Kettle With Steeper</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/tv Thmb50.webp" alt="Large Screen PC Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Large Screen PC</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/MW Thmb50.webp" alt="Microwave / Exhaust Hood Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Microwave / Exhaust Hood</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/toilet 2Thmb50.webp" alt="Smart Toilet (Powder Room) Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Smart Toilet (Powder Room)</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/toilet 1-Thmb50.webp" alt="Smart Toilet (Main Bath) Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Smart Toilet (Main Bath)</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/doorbell Thmb50.webp" alt="Video Doorbell Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Video Doorbell</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/washer Thmb50.webp" alt="Washing Machine Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Washing Machine</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/RJ45Thmb50.webp" alt="Wired Internet Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Wired Internet</a>
                    </div>
                    <div class="appliance-item">
                        <img src="guides/px/Monkey BarThmb50.webp" alt="Monkey Bar Thumbnail" width="50">
                        <a href="../otherpages/underconstruction.html">Monkey Bar</a>
                    </div>
                </div>
            </div>

            <!-- Check In / Check Out Procedure -->
            <div class="card">
                <h2>Check In / Check Out Procedure</h2>
                <p>Welcome to Murney House! Here's everything you need to know about checking in and out:</p>
                <h3>Check-In</h3>
                <p>Check-in time is after 3:00 PM. The digital entry lock code will be sent to you on the day of arrival.</p>
                <h3>Check-Out</h3>
                <p>Check-out time is by 12:00 PM. Please ensure all windows are closed, lights are turned off, and the door is locked when you leave.</p>
            </div>

            <!-- Full House Rules -->
            <div class="card">
                <h2>Full House Rules</h2>
                <p>Please take a moment to familiarize yourself with our house rules to ensure a pleasant stay for everyone:</p>
                <ul>
                    <li>No smoking inside the house</li>
                    <li>Quiet hours from 10:00 PM to 8:00 AM</li>
                    <li>Please remove shoes when entering</li>
                    <li>Pets are not allowed</li>
                    <li>Please conserve energy by turning off lights and appliances when not in use</li>
                </ul>
            </div>

            <!-- Emergency Contacts and Services -->
            <div class="card">
                <h2>Emergency Contacts and Services</h2>
                <p>In case of emergency, please contact the following:</p>
                <ul>
                    <li><strong>Emergency Services:</strong> 911</li>
                    <li><strong>Property Manager:</strong> 555-123-4567</li>
                    <li><strong>Nearest Hospital:</strong> Belleville General Hospital - 265 Dundas St. East, Belleville, ON</li>
                    <li><strong>Pharmacy:</strong> Healthy FY Pharmacy - 44 Moira St. West, Belleville, ON 613-969-8881</li>
                    <li><strong>After-Hours Maintenance:</strong> 555-765-4321</li>
                </ul>
            </div>

            <!-- Helpful Tips -->
            <div class="card">
                <h2>Helpful Tips</h2>
                <p>Make the most of your stay with these helpful tips:</p>
                <ul>
                    <li>The best coffee shop nearby is Benji's (across from the Bus Terminal), just a 7-minute walk</li>
                    <li>Grocery delivery is available through Instacart or Grocery Gateway</li>
                    <li>Free street parking is available after 5:30 PM and on weekends</li>
                    <li>The smart TV is equipped with Netflix, Amazon Prime, and Disney+</li>
                    <li>For the best view of the lake, check out the rooftop patio</li>
                </ul>
            </div>

            <!-- FAQ -->
            <div class="card">
                <h2>Frequently Asked Questions</h2>
                <div class="accordion" id="faq-accordion">
                    <div class="accordion-item">
                        <div class="accordion-header">
                            Is parking available? <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-content">
                            <p>Yes, there is one dedicated parking spot at the front. Use parking brake as it is on steep elevation. Additional street parking is available with certain seasonal restrictions (no overnight parking in winter).</p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <div class="accordion-header">
                            How do I connect to the Internet? <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-content">
                            <p>There are multiple hard wired network jacks in every room, patch cables are available to borrow or bring your own to connect your laptop, etc. We are working on setting up guest WIFI as well and will post an update on our main page. You can also use the big screen Linux PC in the Living Room to surf the net and stream videos, etc. More detailed instructions on how to use it can be found in the "Gizmo Master List" above.</p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <div class="accordion-header">
                            Can I have additional guests? <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-content">
                            <p>The house is designed to accommodate the number of guests specified in your booking. Additional overnight guests are not permitted without prior approval.</p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <div class="accordion-header">
                            Is the house air-conditioned? <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-content">
                            <p>Yes, every room has it's own, whisper quiet AC/Heat Pump unit. Bedrooms 2 and 3 also have ceiling fans for additional comfort. To make winter stays even more comfortable - the floors are heated as well.</p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <div class="accordion-header">
                            Is that really a Monkey Bar in the Laundry Area? <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="accordion-content">
                            <p>Yes! It's exactly what it looks like. If you're in the mood for some chin-ups or just to decompress your spine (and weigh under 200 Lb), feel free to use it (at your own risk, of course).</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Share Your Review Section -->
            <div id="share-your-review" class="review-form">
                <h2>Share Your Review</h2>
                <p>Share your experience and help other guests discover what makes Murney House special. Please note that leaving a review is open to the Guests that have stayed with us within the past 12 months and is validated by Name, Email and Date of Stay (any date within the booked range). Your email will not show in the posted review.</p>

                <div id="review-success" class="success-message">
                    Thank you for your review! It has been submitted successfully.
                </div>

                <div id="review-error" class="error-message">
                    There was an error submitting your review. Please try again.
                </div>

                <form id="review-form">
                    <div class="form-group">
                        <label for="review-name">Your Name</label>
                        <input type="text" id="review-name" name="name" required>
                    </div>

                    <div class="form-group">
                        <label for="review-date-stay">Date of Stay</label>
                        <input type="date" id="review-date-stay" name="dateStay" required>
                    </div>

                    <div class="form-group">
                        <label for="review-email">Email Address *</label>
                        <input type="email" id="review-email" name="email" required>
                    </div>

                    <div class="form-group">
                        <label for="review-location">Your Location</label>
                        <input type="text" id="review-location" name="location" placeholder="e.g., Toronto, ON">
                    </div>

                    <div class="form-group">
                        <label for="review-rating">Rating *</label>
                        <select id="review-rating" name="rating" required>
                            <option value="">Select a rating</option>
                            <option value="5">⭐⭐⭐⭐⭐ Excellent</option>
                            <option value="4">⭐⭐⭐⭐ Very Good</option>
                            <option value="3">⭐⭐⭐ Good</option>
                            <option value="2">⭐⭐ Fair</option>
                            <option value="1">⭐ Poor</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="review-message">Your Review</label>
                        <textarea id="review-message" name="review" placeholder="Tell us about your experience at Murney House..." rows="4" maxlength="600" required></textarea>
                        <div class="char-counter"><span id="review-char-count">0</span>/600 characters</div>
                    </div>

                    <button type="submit" class="cta-button">Submit Review</button>
                </form>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Murney House. All rights reserved.</p>
        </div>
    </footer>

    <script src="../src/script.js"></script>
    <script>
        // Initialize page with dark mode default and inherit from navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Check if mode preference was passed from navigation
            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode') || 'dark'; // Default to dark mode

            // Set the theme
            document.documentElement.setAttribute('data-theme', mode);
            if (mode === 'light') {
                document.body.classList.remove('dark-mode');
                document.body.classList.add('light-mode');
            } else {
                document.body.classList.remove('light-mode');
                document.body.classList.add('dark-mode');
            }

            // Initialize functionality
            initializeApplanceSearch();
            initializeAccordion();
            initializeReviewForm();
        });

        // Enhanced appliance search functionality
        function initializeApplanceSearch() {
            const searchBox = document.getElementById('appliance-search');
            const applianceItems = document.querySelectorAll('.appliance-item');

            if (!searchBox || !applianceItems.length) return;

            searchBox.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();

                applianceItems.forEach(item => {
                    const applianceName = item.querySelector('a').textContent.toLowerCase();
                    if (applianceName.includes(searchTerm)) {
                        item.style.display = 'flex';
                        item.style.animation = 'fadeInUp 0.3s ease';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        }

        // Enhanced accordion functionality
        function initializeAccordion() {
            const accordionHeaders = document.querySelectorAll('.accordion-header');

            accordionHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const isActive = content.classList.contains('active');

                    // Close all other accordion items
                    accordionHeaders.forEach(otherHeader => {
                        const otherContent = otherHeader.nextElementSibling;
                        const otherIcon = otherHeader.querySelector('i');
                        otherContent.classList.remove('active');
                        otherIcon.classList.replace('fa-chevron-up', 'fa-chevron-down');
                    });

                    // Toggle current item
                    if (!isActive) {
                        content.classList.add('active');
                        const icon = this.querySelector('i');
                        icon.classList.replace('fa-chevron-down', 'fa-chevron-up');
                    }
                });
            });
        }

        // Enhanced Review Form Functionality
        function initializeReviewForm() {
            const form = document.getElementById('review-form');
            const reviewText = document.getElementById('review-message');
            const reviewCharCount = document.getElementById('review-char-count');

            if (!form || !reviewText || !reviewCharCount) {
                console.log('Review form elements not found');
                return;
            }

            // Character counter with enhanced feedback
            reviewText.addEventListener('input', function() {
                const currentLength = this.value.length;
                reviewCharCount.textContent = currentLength;

                // Enhanced visual feedback for approaching limit
                if (currentLength > 550) {
                    reviewCharCount.style.color = '#e74c3c';
                    reviewCharCount.style.fontWeight = 'bold';
                } else if (currentLength > 500) {
                    reviewCharCount.style.color = '#f39c12';
                    reviewCharCount.style.fontWeight = '600';
                } else {
                    reviewCharCount.style.color = '#666';
                    reviewCharCount.style.fontWeight = 'normal';
                }
            });

            // Enhanced form submission handler
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                e.stopPropagation();
                handleReviewSubmission(e);
            });

            console.log('Review form initialized successfully');
        }

        // Enhanced submission handling with full validation and guest list checking
        async function handleReviewSubmission(e) {
            e.preventDefault();

            const form = e.target;
            const submitButton = form.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.textContent;

            // Show loading state
            submitButton.textContent = 'Submitting...';
            submitButton.disabled = true;

            // Hide any previous messages
            hideReviewMessages();

            // Get form data
            const formData = {
                name: document.getElementById('review-name')?.value?.trim() || '',
                email: document.getElementById('review-email')?.value?.trim() || '',
                location: document.getElementById('review-location')?.value?.trim() || '',
                rating: parseInt(document.getElementById('review-rating')?.value) || 0,
                message: document.getElementById('review-message')?.value?.trim() || '',
                dateStay: document.getElementById('review-date-stay')?.value || ''
            };

            // Client-side validation
            const errors = [];

            // Loose name validation (accept first name, last name, or variations)
            if (!formData.name || formData.name.length < 2) {
                errors.push('Name is required (minimum 2 characters)');
            }

            // Strict email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!formData.email) {
                errors.push('Email is required');
            } else if (!emailRegex.test(formData.email)) {
                errors.push('Please enter a valid email address');
            }

            if (!formData.message) errors.push('Review message is required');
            if (!formData.dateStay) errors.push('Date of stay is required');
            if (!formData.rating || formData.rating < 1 || formData.rating > 5) {
                errors.push('Please select a rating (1-5 stars)');
            }

            // Date validation - loose within reasonable range
            if (formData.dateStay) {
                const stayDate = new Date(formData.dateStay);
                const today = new Date();
                today.setHours(23, 59, 59, 999);

                if (stayDate > today) {
                    errors.push('This date doesn\'t match our booking records - only our guests can leave reviews. Please enter your actual stay date.');
                }

                // Allow dates within the last year (loose validation)
                const oneYearAgo = new Date();
                oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);

                if (stayDate < oneYearAgo) {
                    errors.push('Please enter a stay date within the last 12 months.');
                }
            }

            // Show validation errors
            if (errors.length > 0) {
                showReviewError('Please fix the following:\n• ' + errors.join('\n• '));
                restoreSubmitButton(submitButton, originalButtonText);
                return;
            }

            try {
                // Submit to server (which will validate against guestlist.json)
                const response = await fetch('/submit-review.php', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const result = await response.json();

                if (result.success) {
                    showReviewSuccess(result.message);
                    form.reset();
                    // Reset character counter
                    const reviewCharCount = document.getElementById('review-char-count');
                    if (reviewCharCount) {
                        reviewCharCount.textContent = '0';
                        reviewCharCount.style.color = '#666';
                        reviewCharCount.style.fontWeight = 'normal';
                    }
                } else {
                    // Handle specific validation errors from server
                    if (result.message.includes('doesn\'t match our records')) {
                        showReviewError(result.message);
                    } else {
                        showReviewError(result.message || 'Submission failed');
                    }
                }

            } catch (error) {
                console.error('Submission error:', error);
                showReviewError(`Submission failed: ${error.message}. Please try again later.`);
            } finally {
                restoreSubmitButton(submitButton, originalButtonText);
            }
        }

        // Helper functions for enhanced messages with 3-second auto-hide
        function showReviewSuccess(message) {
            const successDiv = document.getElementById('review-success');
            successDiv.innerHTML = message.replace(/\n/g, '<br>');
            successDiv.style.display = 'block';
            successDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });

            // Hide after 3 seconds and reset form
            setTimeout(() => {
                successDiv.style.display = 'none';
            }, 3000);
        }

        function showReviewError(message) {
            const errorDiv = document.getElementById('review-error');
            errorDiv.innerHTML = message.replace(/\n/g, '<br>');
            errorDiv.style.display = 'block';
            errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });

            // Hide after 3 seconds
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 3000);
        }

        function hideReviewMessages() {
            const successDiv = document.getElementById('review-success');
            const errorDiv = document.getElementById('review-error');
            if (successDiv) successDiv.style.display = 'none';
            if (errorDiv) errorDiv.style.display = 'none';
        }

        function restoreSubmitButton(button, originalText) {
            button.textContent = originalText;
            button.disabled = false;
        }

        // Format date as dd/mm/yyyy for display purposes
        function formatDateDDMMYYYY(dateString) {
            const date = new Date(dateString);
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}/${month}/${year}`;
        }

        // Enhanced animation for cards on scroll
        document.addEventListener('DOMContentLoaded', function() {
            // Function to check if an element is in viewport
            function isInViewport(element) {
                const rect = element.getBoundingClientRect();
                return (
                    rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.85 &&
                    rect.bottom >= 0
                );
            }

            // Get all cards that should animate
            const cards = document.querySelectorAll('.card, .review-form');

            // Add initial class for animation
            cards.forEach((card, index) => {
                card.style.opacity = "0";
                card.style.transform = "translateY(50px)";
                card.style.transition = "opacity 0.8s ease, transform 0.8s ease";
                card.style.transitionDelay = `${index * 0.1}s`; // Stagger animations
            });

            // Function to handle scroll animation
            function handleScroll() {
                cards.forEach(card => {
                    if (isInViewport(card) && card.style.opacity === "0") {
                        setTimeout(() => {
                            card.style.opacity = "1";
                            card.style.transform = "translateY(0)";
                        }, 100);
                    }
                });
            }

            // Initial check on page load
            handleScroll();

            // Listen for scroll events with throttling
            let scrollTimeout;
            window.addEventListener('scroll', function() {
                if (scrollTimeout) {
                    clearTimeout(scrollTimeout);
                }
                scrollTimeout = setTimeout(handleScroll, 10);
            });
        });
    </script>
    <script src="../shared/contact-modal.js"></script>
</body>
</html>
